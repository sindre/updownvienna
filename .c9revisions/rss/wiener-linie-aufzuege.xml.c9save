{"ts":1347519683386,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1347519725344,"patch":[[{"diffs":[[1,"<?xml version=\"1.0\"?>\r\n<table xmlns=\"http://query.yahooapis.com/v1/schema/table.xsd\">\r\n  <meta>\r\n    <author>Sindre Wimberger</author>\r\n    <description>Wiener Linien Aufzugsinfo</description>\r\n    <documentationURL>http://www.wienerlinien.at/eportal/ep/channelView.do/pageTypeId/9082/channelId/-32771</documentationURL>\r\n  </meta>\r\n  <bindings>\r\n    <select produces=\"XML\" itemPath=\"\">\r\n        <execute><![CDATA[ \r\n\r\n        y.include(\"http://datejs.googlecode.com/svn/trunk/build/date-en-US.js\");   \r\n        var content = y.query(\"select * from html where url='http://www.wienerlinien.at/eportal/ep/channelView.do/pageTypeId/9082/channelId/-32771' and xpath='//table[@class=\\\"full\\\"]/tbody/tr'\");\r\n        var date = y.query(\"select * from html where url='http://www.wienerlinien.at/eportal/ep/channelView.do/pageTypeId/9082/channelId/-32771' and xpath='//div[@class=\\\"traffic_overview\\\"][2]'\");\r\n        var string = date.results.div.p.split(\"g:\")[1];\r\n            var timedate = string.split(\",\");\r\n            var time = timedate[0];\r\n            var date = timedate[1];\r\n            var update = Date.parse(timedate[1]+' ,'+timedate[0]).toString('ddd, d MMM yyyy H:mm:ss +0000'); // Thu, 06 Sep 2012 16:41:55 +0000\r\n/*            var output =  <channel>\r\n            <title>Wiener Linien Aufzugsinfo</title>\r\n            <description>Aufzüge derzeit außer Betrieb.</description>\r\n            <link>http://www.wienerlinien.at/eportal/ep/channelView.do/pageTypeId/9082/channelId/-32771</link>\r\n           <pubDate>{update}</pubDate>\r\n            </channel>;*/\r\n        var sum = '', nr = 0;\r\n        for each(item in content.results..tr){\r\n    \t\tif(item.td[0].span.@['class'] == \"status st_failure\") {\r\n\t\t\t\tsum += ''+item.td[1].img..@['alt']+' '+item.td[2].p+'- '+item.td[4].p+' '+item.td[5].p+'<br>';\r\n                nr++;\r\n\t\t\t} \r\n        }\r\n        if(nr == 0) {\r\n            out = <item><title>Wiener Linien Aufzugstörungen</title><description>keine Störungen bekannt</description><pubDate>{update}</pubDate><link>http://www.wienerlinien.at/eportal/ep/channelView.do/pageTypeId/9082/channelId/-32771</link></item>;\r\n        } else {\r\n            out = <item><title>Wiener Linien Aufzugstörungen</title><description>{sum}</description><pubDate>{update}</pubDate><link>http://www.wienerlinien.at/eportal/ep/channelView.do/pageTypeId/9082/channelId/-32771</link></item>;\r\n        }\r\n        /*output.appendChild(out);*/\r\n        response.object = out;\r\n        ]]></execute>\r\n    </select>\r\n  </bindings>\r\n</table>"]],"start1":0,"start2":0,"length1":0,"length2":2521}]],"length":2521,"saved":false}
{"ts":1347519925540,"patch":[[{"diffs":[[0,"description><pub"],[-1,"D"],[1,"d"],[0,"ate>{update}</pu"]],"start1":1979,"start2":1979,"length1":33,"length2":33},{"diffs":[[0,"te>{update}</pub"],[-1,"D"],[1,"d"],[0,"ate><link>http:/"]],"start1":1997,"start2":1997,"length1":33,"length2":33},{"diffs":[[0,"ription><pub"],[-1,"D"],[1,"d"],[0,"ate>{update}"]],"start1":2236,"start2":2236,"length1":25,"length2":25},{"diffs":[[0,"update}</pub"],[-1,"D"],[1,"d"],[0,"ate><link>ht"]],"start1":2254,"start2":2254,"length1":25,"length2":25}]],"length":2521,"saved":false}
